!function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){var i=n(t,e)?o:a;i(t,e)}var n,a,o;"classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},a=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(n=function(t,i){return e(i).test(t.className)},a=function(t,e){n(t,e)||(t.className=t.className+" "+e)},o=function(t,i){t.className=t.className.replace(e(i)," ")});var s={hasClass:n,addClass:a,removeClass:o,toggleClass:i,has:n,add:a,remove:o,toggle:i};"function"==typeof define&&define.amd?define(s):t.classie=s}(window),function(t){"use strict";function e(){var e=l.clientHeight,i=t.innerHeight;return e<i?i:e}function i(){return t.pageYOffset||l.scrollTop}function n(t){var e=0,i=0;do isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(i+=t.offsetLeft);while(t=t.offsetParent);return{top:e,left:i}}function a(t,a){var o=t.offsetHeight,s=i(),r=s+e(),l=n(t).top,c=l+o,a=a||0;return l+o*a<=r&&c-o*a>=s}function o(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function s(){var t=this;this.didScroll||(this.didScroll=!0,setTimeout(function(){t._scrollPage()},60))}function r(t,e){this.el=t,this.options=o(this.defaults,e),this._onScrollFn=s.bind(this),this._init()}var l=t.document.documentElement;if(navigator.appVersion.indexOf("MSIE 8")>0){var c=Array.prototype.slice;Array.prototype.slice=function(){if(this instanceof Array)return c.apply(this,arguments);for(var t=[],e=arguments.length>=1?arguments[0]:0,i=arguments.length>=2?arguments[1]:this.length,n=e;n<i;n++)t.push(this[n]);return t}}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),r.prototype={defaults:{minDuration:0,maxDuration:0,viewportFactor:0},_init:function(){this.items=Array.prototype.slice.call(document.querySelectorAll("#"+this.el.id+" > li")),this.itemsCount=this.items.length,this.itemsRenderedCount=0,this.didScroll=!1;var e=this;$(e.el).isotope({itemSelector:"li",transitionDuration:0}),Modernizr.cssanimations&&(e.items.forEach(function(t,i){a(t)&&(e._checkTotalRendered(),classie.add(t,"shown"))}),t.addEventListener("scroll",e._onScrollFn,!1),t.addEventListener("resize",function(){e._resizeHandler()},!1))},_scrollPage:function(){var t=this;this.items.forEach(function(n,o){classie.has(n,"shown")||classie.has(n,"animate")||!a(n,t.options.viewportFactor)||setTimeout(function(){var a=i()+e()/2;if(t.el.style.WebkitPerspectiveOrigin="50% "+a+"px",t.el.style.MozPerspectiveOrigin="50% "+a+"px",t.el.style.perspectiveOrigin="50% "+a+"px",t._checkTotalRendered(),t.options.minDuration&&t.options.maxDuration){var o=Math.random()*(t.options.maxDuration-t.options.minDuration)+t.options.minDuration+"s";n.style.WebkitAnimationDuration=o,n.style.MozAnimationDuration=o,n.style.animationDuration=o}classie.add(n,"animate")},25)}),this.didScroll=!1},_resizeHandler:function(){function t(){e._scrollPage(),e.resizeTimeout=null}var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(t,1e3)},_checkTotalRendered:function(){++this.itemsRenderedCount,this.itemsRenderedCount===this.itemsCount&&t.removeEventListener("scroll",this._onScrollFn)}},t.AnimOnScroll=r}(window);var catalogs=[],items=[];_.forEach(websites_data.children,function(t){catalogs.push(t.name),t.children&&t.children.length&&_.forEach(t.children,function(e){var i=e.children.length?websites_data.name+"/"+t.name+"/"+e.name+"/index.html":"javascript:;";items.push({name:e.name,catalog:t.name,path:i})})});var catalog_html='<li><a href="#" class="active" data-filter="*">ALL</a></li>';_.forEach(catalogs,function(t){catalog_html+='<li><a href="#" data-filter=".'+t+'">'+t+"</a></li>"});var item_html="";_.forEach(_.shuffle(items),function(t){item_html+='<li class="background-'+Math.ceil(42*Math.random())+" "+t.catalog+'" style="height:'+Math.ceil(200*Math.random()+300)+'px;"><a href="'+t.path+'" target="_blank"><span>'+t.name+"</span></a></li>"}),$("#catalog").html(catalog_html),$("#grid").html(item_html),$("#year").html((new Date).getFullYear());var anim_scroll=new AnimOnScroll(document.getElementById("grid"),{minDuration:.4,maxDuration:.7,viewportFactor:.2});$("#catalog a").click(function(){var t=$(this);if(t.hasClass("active"))return!1;var e=t.data("filter");return $("#grid").isotope({filter:e}),$("#catalog a").removeClass("active"),t.addClass("active"),anim_scroll._scrollPage(),!1});